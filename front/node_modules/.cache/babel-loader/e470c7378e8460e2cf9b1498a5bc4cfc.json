{"ast":null,"code":"var _jsxFileName = \"/home/hmathlouthi-pc/Bureau/devops/REPOSUBUNTU/ALRAHALA/client/src/components/Log/SignUpForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUpForm = () => {\n  _s();\n\n  const [formSubmit, setFormSubmit] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [controlPassword, setControlPassword] = useState(\"\");\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    const terms = document.getElementById(\"terms\");\n    const emailError = document.querySelector(\".email.error\");\n    const passwordError = document.querySelector(\".password.error\");\n    const passwordConfirmError = document.querySelector(\".password-confirm.error\");\n    const termsError = document.querySelector(\".terms.error\");\n    passwordConfirmError.innerHTML = \"\";\n    termsError.innerHTML = \"\";\n\n    if (password !== controlPassword || !terms.checked) {\n      if (password !== controlPassword) passwordConfirmError.innerHTML = \"Les mots de passe ne correspondent pas\";\n      if (!terms.checked) termsError.innerHTML = \"Veuillez valider les conditions générales\";\n    } else {\n      await axios({\n        method: \"post\",\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\n        data: {\n          email,\n          password\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.errors) {\n          emailError.innerHTML = res.data.errors.email;\n          passwordError.innerHTML = res.data.errors.password;\n        } else {\n          setFormSubmit(true);\n          window.location = \"/list-event\";\n        }\n      }).catch(err => console.log(err));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"sign-up\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"\",\n      onSubmit: handleRegister,\n      id: \"sign-up-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        id: \"email\",\n        onChange: e => setEmail(e.target.value),\n        value: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        id: \"password\",\n        onChange: e => setPassword(e.target.value),\n        value: password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"password error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password-conf\",\n        children: \"Confirmer mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        id: \"password-conf\",\n        onChange: e => setControlPassword(e.target.value),\n        value: controlPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"password-confirm error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"terms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"terms\",\n        children: [\"J'accepte les\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"conditions g\\xE9n\\xE9rales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"terms error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Valider inscription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUpForm, \"ZZr6xo9pCHunczwFe+omh0wOzbk=\");\n\n_c = SignUpForm;\nexport default SignUpForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUpForm\");","map":{"version":3,"sources":["/home/hmathlouthi-pc/Bureau/devops/REPOSUBUNTU/ALRAHALA/client/src/components/Log/SignUpForm.js"],"names":["React","useState","axios","SignUpForm","formSubmit","setFormSubmit","email","setEmail","password","setPassword","controlPassword","setControlPassword","handleRegister","e","preventDefault","terms","document","getElementById","emailError","querySelector","passwordError","passwordConfirmError","termsError","innerHTML","checked","method","url","process","env","REACT_APP_API_URL","data","then","res","console","log","errors","window","location","catch","err","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst SignUpForm = () => {\r\n  const [formSubmit, setFormSubmit] = useState(false);\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [controlPassword, setControlPassword] = useState(\"\");\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    const terms = document.getElementById(\"terms\");\r\n    const emailError = document.querySelector(\".email.error\");\r\n    const passwordError = document.querySelector(\".password.error\");\r\n    const passwordConfirmError = document.querySelector(\r\n      \".password-confirm.error\"\r\n    );\r\n    const termsError = document.querySelector(\".terms.error\");\r\n\r\n    passwordConfirmError.innerHTML = \"\";\r\n    termsError.innerHTML = \"\";\r\n\r\n    if (password !== controlPassword || !terms.checked) {\r\n      if (password !== controlPassword)\r\n        passwordConfirmError.innerHTML =\r\n          \"Les mots de passe ne correspondent pas\";\r\n\r\n      if (!terms.checked)\r\n        termsError.innerHTML = \"Veuillez valider les conditions générales\";\r\n    } else {\r\n      await axios({\r\n        method: \"post\",\r\n        url: `${process.env.REACT_APP_API_URL}api/user/register`,\r\n        data: {\r\n          email,\r\n          password,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.data.errors) {\r\n            emailError.innerHTML = res.data.errors.email;\r\n            passwordError.innerHTML = res.data.errors.password;\r\n          } else {\r\n            setFormSubmit(true);\r\n\r\n            window.location = \"/list-event\";\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"sign-up\">\r\n      <form action=\"\" onSubmit={handleRegister} id=\"sign-up-form\">\r\n        <label htmlFor=\"email\">Email</label>\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n        />\r\n        <div className=\"email error\"></div>\r\n        <br />\r\n        <label htmlFor=\"password\">Mot de passe</label>\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n        />\r\n        <div className=\"password error\"></div>\r\n        <br />\r\n        <label htmlFor=\"password-conf\">Confirmer mot de passe</label>\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password-conf\"\r\n          onChange={(e) => setControlPassword(e.target.value)}\r\n          value={controlPassword}\r\n        />\r\n        <div className=\"password-confirm error\"></div>\r\n        <br />\r\n        <input type=\"checkbox\" id=\"terms\" />\r\n        <label htmlFor=\"terms\">\r\n          J'accepte les{\" \"}\r\n          <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            conditions générales\r\n          </a>\r\n        </label>\r\n        <div className=\"terms error\"></div>\r\n        <br />\r\n        <input type=\"submit\" value=\"Valider inscription\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;\r\n"]},"metadata":{},"sourceType":"module"}